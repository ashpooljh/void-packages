# Template file for 'electrum'
pkgname=electrum
version=4.0.9
revision=1
build_style=python3-module
hostmakedepends="python3-PyQt5-devel-tools python3-setuptools"
depends="python3-aiohttp python3-aiohttp_socks>=0.3 python3-aiorpcx>=0.18<0.19
 python3-dnspython python3-ecdsa python3-jsonrpclib python3-protobuf
 python3-pyaes python3-pycryptodome python3-PyQt5 python3-qrcode python3-bitstring
 libbitcoin-secp256k1"
# Missing optional dependencies:
#  btchip - BTChip hardware wallet support
#  trezor - TREZOR hardware wallet support
#  keepkey - KeepKey hardware wallet support
#  qdarkstyle - Dark theme
short_desc="Lightweight Bitcoin wallet"
maintainer="Charles E. Lehner <cel@celehner.com>"
license="MIT"
homepage="https://electrum.org/"
# patch doesn't apply for PyPI tarball
distfiles="https://github.com/spesmilo/electrum/archive/${version}.tar.gz"
checksum=67e63afe6a9d8944f872500fbf6312a3840f3fa8ebd0c1aadfbba3147d8b3c24

post_install() {
	sed -i -e 's|electrum %u|electrum|' \
		-e 's|testnet %u|testnet|' \
		${DESTDIR}/usr/share/applications/electrum.desktop
	vlicense LICENCE
}
